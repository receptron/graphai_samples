version: 0.3
nodes:
  fruits:
    value: [apple, lemomn, banana]
  map:
    agent: mapAgent
    inputs: [:fruits]
    isResult: true
    graph:
      nodes:
        prompt:
          agent: stringTemplateAgent
          params:
            template: What is the typical color of ${0}? Just answer the color.
          inputs: [:$0]
        llm:
          agent: openAIAgent
          params:
            model: llama3
            baseURL: http://127.0.0.1:11434/v1
            apiKey: ollama
          inputs: [:prompt]
        result:
          agent: copyAgent
          inputs: [:llm.choices.$0.message.content]
          isResult: true